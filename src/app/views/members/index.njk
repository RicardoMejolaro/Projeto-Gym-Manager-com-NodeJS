{% extends "layout.njk" %}

{% block head %}
  <title>Nossos Membros</title>
{% endblock %}

{% block content %}
  <div class="card table-container">
    <div class="header-table">
      <a class="button" href="/members/create">Novo</a>
      <form action="/members" method="GET">
        <input 
          type="text"
          name="filter"
          placeholder="Nome ou Email"
          value="{{ filter }}"
          >
          <button type="submit">Filtrar</button>
      </form>
    </div>
   <table>
     <thead>
       <tr>
         <th>Membro</th>
         <th class="viewOptional">Email</th>
         <th class="viewOptional">Peso</th>
         <th class="viewOptional">Altura</th>
         <th>Ação</th>
       </tr>
     </thead>
     <tbody>
       {% for member in members %}
        <tr>
          <td>
            <span style="background-image: url({{ member.avatar_url }})"></span>
            {{ member.name }}
          </td>
          <td class="viewOptional">{{ member.email }}</td>
          <td class="viewOptional">{{ member.weight }}kg</td>
          <td class="viewOptional">{{ member.height }}cm</td>
          <td><a href="/members/{{ member.id }}">Ver</a></td>
        </tr>
       {% endfor %}
     </tbody>
   </table>
  </div>
{% endblock %}